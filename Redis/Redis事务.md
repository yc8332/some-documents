### Redis事务
Redis使用 `multi` 命令开启一个事务，使用 `exec` 命令执行一个事务。   

1、事务开始   
`multi` 命令标志着事务的开始，将执行该命令的客户端切换到事务状态，即打开客户端 `flags` 属性中的 `redis_multi` 标识。   
2、命令入队   
当客户端切换到事务状态后，如果后续发送的命令是 `exec`、`discard`、`watch`、`multi` 则立即执行，如果是其它命令则进入事务队列。   
3、执行事务   
当客户端发送 `exec` 命令时，服务端遍历事务队列并执行队列中保存的命令，最后将命令的结果全部返回给客户端。   
