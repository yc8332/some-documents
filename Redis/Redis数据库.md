1、Redis服务器将所有数据库保存在 `redisServer` 结构的 db 属性数组中，数组中每个元素都是一个 `redisDb` 的 struct，另外 `redisServer.dbnum`属性保存了数据库的数量，初始化服务器时会创建相应数量的数据库   
2、Redis客户端 `redisClient` 结构的 db 属性是一个指向 `redisDb` 的指针，使用 `select` 命令选择数据库时会指向 `redisServer.db` 中的不同元素，从而实现切换数据库   
3、`redisDb` 结构中 dict 属性就是数据库的键空间，保存了该数据库中所有的键值对。其中，每个键都是一个字符串对象(SDS)，而值则可以是`字符串对象`、`列表对象`、`哈希表对象`、`集合对象`、`有序集合对象`中任意一种。对数据库的所有操作如增删改查，实际上都是对 dict 的操作   
   
4、Redis可使用4个命令设置键的过期时间，但前三个命令都使用第四个命令实现：
> `expire` 设置多少秒的生存时间   
> `pexpire` 设置多少毫秒的生存时间   
> `expireat` 设置为将来某一秒过期   
> `pexpireat` 设置为将来某一毫秒过期   

5、`redisDb` 结构中 expires 属性保存了数据库中键的过期时间，称为过期字典。如果某个键设置了过期时间保存到了过期字典中，则过期字典的键和数据库键空间中的键指向同一个键对象节约内存   
   
6、过期键的删除策略，Redis使用`惰性删除`和`定期删除`：
> `定时删除` 设置过期时间时创建一个定时器，到期时删除键(CPU不友好)   
> `惰性删除` 获取键时先判断是否过期，过期则删除(内存不友好)   
> `定期删除` 每隔一段时间检查并删除过期键   

7、从数据库发现过期键时不会主动删除，而是等待主服务器发送`DEL`命令再删除   
