1、Redis自身构建了一种简单动态字符串(SDS)的抽象类型，并且用作Redis的默认字符串表示。结构如下：
![](http://wx2.sinaimg.cn/large/abf82c72gy1fn3r5kh9oej20ou078t9j.jpg)

2、修改字符串内存分配策略
- 当字符串进行增长操作时，如果增长后的长度小于`1MB`，则分配`len`属性大小的空间(`len`为增长后的长度)，此时`len = free`，总空间等于 `len + free + 1`。如果增长后的长度大于`1MB`，则新分配`1MB`空间。   
- 当字符串进行缩短操作时，仅使用`free`属性记录空出来的空间，而不会立即收回多出来的字节。   
