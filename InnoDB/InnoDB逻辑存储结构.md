InnoDB引擎存储数据时，所有数据存储在表空间中，表空间又由段、区、页、行组成。   

### 表空间
默认情况下，InnoDB引擎有一个共享的表空间ibdata1，所有数据放在这个表空间内。如果启用了`innodb_file_per_table`则每张表的数据单独存放，但其他数据如回滚信息、插入缓存索引页、事务信息等仍存放在共享表空间中。   

### 段
表空间由各个段组成，如数据段、索引段、回滚段等。   

### 区
区由连续的页组成，每个区固定大小为1MB。默认每个页的大小为16KB，即一个区由64页组成。InnoDB申请空间时一次申请几个区的空间以保证页的连续性。   

### 页
页是InnoDB磁盘管理的最小单位，默认大小为16KB。可通过`innodb_page_size`修改，一旦修改后不能再次修改，可通过导入导出数据产生新的库。常见的页有数据页、undo页、二进制大对象页等。   

### 行
数据是按行存储的，InnoDB提供`Compact`和`Redundant`两种行格式，其中`Redundant`格式是为了兼容之前版本而保留的，这里主要使用`Compact`格式。   
![](http://wx3.sinaimg.cn/large/abf82c72gy1fp3fhlg28hj20rg04l0u6.jpg)   
> 变长字段长度列表，倒序记录该行变长字段值的长度   
> NULL标志位，二进制数字，为1的位表示相应字段值为null   
> 记录头信息，主要记录改行记录是否已删除、页中下一条记录的相对位置等   
