### 一致性非锁定读
一致性非锁定读是指InnoDB引擎通过多版本控制的方式来读取数据库中的数据。如果读取的行正在另一个事务中进行 `update`或 `delete` 操作，此时不会等待该行的X锁释放，而是去读取该行的一个快照。其中快照数据就是该行数据之前的历史版本，并且可能有多个版本，这种技术称为`行多版本`技术，由此带来的并发控制即`多版本并发控制(MVCC)`，通过 `undo log` 来实现。   
- 在 `read committed` 级别下，读取的是行的最新版本(可读到其他事务的提交)。   
- 在 `repeatable read` 级别下，读取的是当前事务开始时的版本(读不到其他事务的提交)。   

### 一致性锁定读
如果在select时不希望行被其他事务修改，可在select时加锁，即锁定读。
- `select ... for update` 给行加X锁，则其他事务只能读取该行而不能修改(读取快照)   
- `select ... lock in share mode` 给行加S锁，则其他事务只能读取该行而不能修改(读取快照)   

**无论非锁定读还是锁定读，在同一个事物内自己作的修改都是可以读取到的。**   
